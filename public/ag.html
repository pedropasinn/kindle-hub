<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ação de Graças - Kindle Hub</title>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <script src="timer.js" defer></script>
    
    <style>
        /* --- RESET & VARIÁVEIS --- */
        :root {
            --bg-color: #ffffff;
            --text-color: #000000;
            --border-color: #000000;
            --font-main: Helvetica, Arial, sans-serif;
            --radius: 12px;
            --spacing: 16px;
            --rubric-color: #c00; /* Cor para as rubricas litúrgicas */
        }

        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text-color);
            height: 100vh;
            overflow: hidden; 
            display: flex;
            flex-direction: column;
        }

        /* --- CABEÇALHO --- */
        header {
            padding: var(--spacing);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid transparent;
            flex-shrink: 0;
            background: #fff;
            z-index: 10;
        }
        header h1 { font-size: 24px; font-weight: bold; margin: 0; }
        .flex { display: flex; align-items: center; }

        /* --- NAVEGAÇÃO (CONTROLE SEGMENTADO) --- */
        .segmented {
            position: relative;
            display: flex;
            width: calc(100% - 10px);
            height: 39px;
            margin: 0 5px;
            background: #D2D1D9;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            border-bottom: 2px solid #e0e0e0;
        }

        .seg-item {
            flex: 1 1 0;
            height: 39px;
            border: none;
            background: transparent;
            cursor: pointer;
            position: relative;

            font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            font-style: italic;
            font-weight: 700;

            /* fica melhor no mobile: diminui sozinho se precisar */
            font-size: clamp(12px, 2.6vw, 18px);
            line-height: 1;
            text-transform: uppercase;
            text-align: center;
            color: #FFFFFF;
            font-variation-settings: 'slnt' -5;

            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 6px;
        }

        .seg-item::after {
            content: "";
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            height: 100%;
            border-right: 2px solid #FFFFFF;
        }
        .seg-item:last-child::after { display: none; }

        .seg-item:first-child { border-radius: 15px 0 0 15px; }
        .seg-item:last-child { border-radius: 0 15px 15px 0; }

        .seg-item.active {
            background: #5C5A5A;
            box-shadow: 0px 2px 4px rgba(0,0,0,0.25);
        }

        .seg-item:not(.active):hover {
            background: rgba(255,255,255,0.10);
        }

        /* --- ÁREA DE CONTEÚDO (GERAL) --- */
        .content-area {
            flex: 1;
            overflow-y: auto;
            padding: 20px var(--spacing);
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
            position: relative;
        }
        
        /* Gradient para indicar scroll no topo (opcional, mantido do original se desejado) */
        .content-area::before {
            content: ""; position: fixed; top: 0; left: 0; width: 100%; pointer-events: none;
        }

        /* --- VIEWS --- */
        /* View Principal (Ação de Graças) */
        #mainView { display: flex; flex-direction: column; height: 100%; }
        
        /* View Cântico (Oculta por padrão) */
        #canticoView { 
            display: none; 
            height: 100%; 
            background: #fff;
            flex-direction: column;
        }
        #canticoView.ativo { display: flex; }

        /* --- ESTILOS DO CONTEÚDO DA LISTA --- */
        .category-title {
            font-size: 26px;
            font-weight: bold;
            margin-bottom: 24px;
            padding-bottom: 10px;
            border-bottom: 4px solid #000;
        }
        .list-item {
            font-size: 20px;
            padding: 6px 0;
            margin-bottom: 8px;
            line-height: 1.4;
        }
        .subtitle {
            font-weight: bold; font-size: 22px; margin-top: 15px; margin-bottom: 5px; display: block; color: #000;
        }
        .cinza { color: #666; }
        .quote-style {
            font-style: italic; background: #f4f4f4; padding: 15px;
            border-left: 4px solid #000; margin-bottom: 15px;
            border-radius: 0 8px 8px 0; font-size: 18px;
        }

        /* --- ESTILOS DO CÂNTICO --- */
        .cantico-header-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        .btn-idioma {
            padding: 6px 14px;
            background: #fff;
            color: #000;
            border: 2px solid #000;
            border-radius: 20px;
            font-weight: bold;
            cursor: pointer;
            font-size: 14px;
            margin-left: 8px;
        }
        .btn-idioma.ativo { background: #000; color: #fff; }
        
        .cantico-content {
            font-size: 22px;
            line-height: 1.6;
            text-align: justify;
        }
        .cantico-content p { margin-bottom: 10px; }

        /* Rubricas (Textos em vermelho/instruções) */
        .rub { color: var(--rubric-color); font-size: 0.97em; }
        
        /* Botão Voltar ao Topo */
        #btnVoltarTopo {
            position: fixed; bottom: 30px; right: 30px;
            width: 50px; height: 50px;
            background: #5C5A5A; color: #fff;
            border: 3px solid #5C5A5A; border-radius: 50%;
            font-size: 24px; cursor: pointer;
            opacity: 0; visibility: hidden;
            transition: 0.3s;
            display: flex; align-items: center; justify-content: center;
            z-index: 99;
        }
        #btnVoltarTopo.visivel { opacity: 1; visibility: visible; }

    </style>
</head>
<body>

<header>
        <div class="flex">
            <a href="dashboard.html" style="display:flex;align-items:center;margin-right:16px;">
                <img src="/icones/casa.png" alt="Home" style="width:40px;height:40px;">
            </a>
            <a href="plano-inclinado.html" style="display:flex;align-items:center;">
                <img src="/icones/de-volta.png" alt="Voltar" style="width:40px;height:40px;">
            </a>
        </div>

        <h1 id="pageTitle">Ação de Graças</h1>

        <a href="javascript:void(0)" onclick="toggleCantico()" style="display:flex;align-items:center;">
            <img src="/Imagens/pessoas.png" alt="Cântico" style="width:40px;height:40px;">
        </a>
    </header>
        

    <div id="mainView" style="flex: 1; overflow: hidden;">
        <div class="segmented" id="chipsNav" aria-label="Navegação por seções">
            </div>

        <div class="content-area" id="mainContentScroll">
            <div id="listaContent">
                </div>
            <div style="height: 50px;"></div>
        </div>
    </div>

    <div id="canticoView" class="content-area">
        <div class="cantico-header-controls">
            <h2 style="font-size: 22px; margin: 0;"> </h2>
            <div>
                <button class="btn-idioma ativo" id="btnPt" onclick="mudarIdiomaCantico('pt')">PT</button>
                <button class="btn-idioma" id="btnLa" onclick="mudarIdiomaCantico('la')">LA</button>
            </div>
        </div>
        
        <div id="canticoTexto" class="cantico-content">
            </div>
        <div style="height: 50px;"></div>
    </div>

    <button id="btnVoltarTopo" onclick="scrollToTop()">↑</button>

    <script>

        const dataAG = {
            intercessores: {
                label: "Intercessores",
                items: [
                    "Nossa Senhora de Fátima", "São Pio de Pietrelcina", "São João Paulo II",
                    "São Josemaria", "Beato Álvaro", "Santo Agostinho", "Santo Tomas de Aquino",
                    "São Sebastião", "São Miguel", "São João da Cruz", "Santa Teresinha do Menino Jesus",
                    "Santa Teresa de Calcutá", "Venerável Bispo Fulton Sheen", "E do meu Anjo da Guarda"
                ]
            },
            familia: {
                label: "Família",
                items: [
                    "Minha mãe - Luciana", "Minha irmã - Carol",
                    "Meus avós - Dercy e Humberto, Luis e Ana, Nadir e Dinarte",
                    "Meu pai - Antonio", "Meus tios - Humberto, João, Paulo e Humberto Jr.",
                    "Minhas tias - Tia Criança, Evandra, Fátima, Gisele e Lesliane",
                    "Meus primos - Matheus, Leonardo, Antonella, João Paulo, Vinícius, Gabriel",
                    "Demais membros da minha família."
                ]
            },
            opus: {
                label: "Obra",
                items: [
                    "Pelo Prelado Fernando", "Pelo Dom Mariano Fazio", "Pelo Vigário Fábio", 
                    "Pelo Dom Carlos", "Por toda Comissão Regional",
                    
                    "<span class='subtitle'>Meus diretores:</span>",
                    "Padre Sérgio", "Veneziano Araújo", "Raphael Barelli",
                    
                    "<span class='subtitle'>Meus demais irmãos:</span>",
                    "João Victor", "Rodrigo", "Pablo", "Gerald", "Eduardo", "Iago",
                    "Pe. Fernando", "Rafael Saucedo", "Christian", "Gabriel Thé",
                    "Lazaro", "Gustavo M.", "Arthur", "Pe. Raphael Rezende",
                    "Pe. Daniel", "Pe. Alexandre", "Pe. Mariano",
                    "João Carlos Nara", "Nikolas", "Daniel Cury", "Elber", "Galão",
                    "Mauricio Batista", "João Bosco e família", "Gabriel Marcondes",
                    "Pedro Augusto", "Rafael Manente", "Gabriel Amarquezano",
                    "Pela alma do grande Pe. Francisco Faus",
                    "Pela administração",

                    "<span class='subtitle'>Rapazes de São Rafael:</span>",
                    "Angelo +", "Raphael Iglésias", "Enzo Bressani +", "Carlos +",
                    "Peterson +", "Bruno +", "Gabriel Manente ++", "Lucas Brasil +",
                    "Pedro Italiano ++", "Davi Cury ++", "Marcos", "Victor +",
                    "Rafael", "Henrique", "Yoshida", "Por mais vocações",
                    
                    "<span class='subtitle'>Meus afilhados:</span>",
                    "Enzo Valério + +", "Marcos e Raynnara Gurgel",
                    
                    "<span class='subtitle'>Pela vocações de:</span>",
                    "Giovanni Tsukahara", "Pedro Navion", "Hael", "Miguel",
                    "Pedro Lucas", "Victor Caballero", "Gabriel Jesus", "Lucas Puig",
                    "Lucas Loli", "Luquinhas", "Strobel", "Martin", "Ferrazo",
                    "Renan e Julia"
                ]
            },
            amigos: {
                label: "Amigos",
                items: [
                    "<span class='subtitle'>Meus amigos:</span>",
                    "<span class='cinza'>Victor</span>",
                    "<span class='cinza'>Daniel Zangrandi</span>",
                    "<span class='cinza'>Paulo e Pedro</span>",
                    "<span class='cinza'>Vitor</span>",
                    "<span class='cinza'>Paloma Ary e Família</span>",
                    "<span class='cinza'>Pedro Redher</span>",
                    "<span class='cinza'>Chiara Ary</span>",
                    "<span class='cinza'>Pedro Perdomo e Julia</span>",
                    "<span class='cinza'>Julia Korkis</span>",
                    "<span class='cinza'>Luiza Lory</span>",
                    "<span class='cinza'>Rose Ebling</span>",
                    "<span class='cinza'>Gustavo Franco</span>",
                    "<span class='cinza'>Rafael Felipe</span>",
                    "<span class='cinza'>Matheus Carvalho</span>",
                    "<span class='cinza'>José Neto</span>",
                    "<span class='cinza'>Victor Quadros</span>",
                    "<span class='cinza'>Mateus Meneguin</span>",
                    "<span class='cinza'>Kaique Vega</span>",
                    "<span class='cinza'>Antônio Abreu</span>",
                    "<span class='cinza'>Davi</span>",
                    "<span class='cinza'>Gustavo Mendes</span>",
                    "<span class='cinza'>Igor</span>",
                    "<span class='cinza'>Esther</span>",
                    "<span class='cinza'>Lorena e Paulo</span>",
                    "<span class='cinza'>Maria Fernanda</span>",
                    "<span class='cinza'>Mariana Engel</span>",
                    "<span class='cinza'>Mariana Gurgel</span>",
                    "<span class='cinza'>Maria Porto</span>",
                    "<span class='cinza'>Valentina e Vitória</span>",
                    "<span class='cinza'>Thiago</span>",
                    "<span class='cinza'>Laura Casarin</span>",
                    "<span class='cinza'>Bianca Blanco</span>",
                    "<span class='cinza'>Tio Roberto e Família</span>",
                    "A todos os meus demais amigos."
                ]
            },
            igreja: {
                label: "Igreja",
                items: [
                    "Pelo Santo Padre Papa Leão XIV", 
                    "Pelo Dom Odilo", "Pelo Dom Orlando",
                    "Pelo Pe. Rafael", "Pelo Pe. Aluísio", "Pelo Pe. Tomás", "Pelo Pe. Luciano",
                    "Pelo Cardeal Robert Sarah"
                ]
            },
            agradecer: {
                label: "Agradecimentos",
                items: [
                    "Pela minha vocação",
                    "Pela minha família",
                    "Por mais este dia de luta e conversão"
                ]
            },
            peticoes: {
                label: "Petições",
                items: [
                    "Canonização de Dom Álvaro",
                    "Mais vocações para a Obra",
                    "Pelos estatutos",
                    "Fidelidade dos meus irmãos e minha",
                    "Conversão do meu pai",
                    "Que eu ame mais minha irmã",
                    "Graça de não mais pecar",
                    "Se quiseres podes me limpar!",
                    "Fim das Guerras",
                    "Peço o que te peça o Padre"
                ]
            },
            diario: {
                label: "Lembrar Sempre",
                isQuotes: true,
                items: [
                    "Espirito Santo, quando não entender algo me ajude encontrar o caminho.",
                    "Nossa Senhora, me ajuda a entender o que vou estudar hoje!",
                    "Meu Anjo da guarda, não me deixe cair em distrações.",
                    "Jesus, me ajuda a não perder de vista que tudo é pelas almas, esse é fim último: a Vossa glória!",
                    "Faz-me humilde, Pai. Não me deixes esquecer que carrego o meu tesouro em vaso de barro. Que eu confie mais em ti e menos em mim.",
                    "Faz-me humilde, faz-me puro, faz-me Santo!"
                ]
            }
        };

        // ============= DADOS DO CÂNTICO =============
        const canticoDados = {
            label: "Cântico 3 Jovens",
            title_pt: "Cântico dos três jovens",
            title_la: "Trium puerórum",
            html_pt: `
                <p><span class="rub">Ant.</span> Cantemos o hino dos três jovens, o mesmo que esses santos cantavam na fornalha ardente bendizendo o Senhor <span class="rub">(T. P. Aleluia)</span>.</p>
                <p class="rub" style="text-align:center;">Cântico dos Três Jovens (Dan. 3, 57-88 e 56)</p>
                <p><span class="rub">1.</span> Obras do Senhor, bendizei todas o Senhor, louvai-O e exaltai-O para sempre.</p>
                <p><span class="rub">2.</span> Céus, bendizei o Senhor, Anjos do Senhor, bendizei o Senhor.</p>
                <p><span class="rub">3.</span> Águas que estais por cima dos céus, bendizei todas o Senhor; todos os poderes bendigam o Senhor.</p>
                <p><span class="rub">4.</span> Sol e lua, bendizei o Senhor, estrelas do céu, bendizei o Senhor.</p>
                <p><span class="rub">5.</span> Chuvas e orvalhos, bendizei o Senhor; e vós, todos os ventos, bendizei o Senhor.</p>
                <p><span class="rub">6.</span> Fogo e calor, bendizei o Senhor; frio e calor, bendizei o Senhor.</p>
                <p><span class="rub">7.</span> Orvalhos e geadas, bendizei o Senhor; gelo e frio, bendizei o Senhor.</p>
                <p><span class="rub">8.</span> Gelos e neves, bendizei o Senhor; noites e dias, bendizei o Senhor.</p>
                <p><span class="rub">9.</span> Luz e trevas, bendizei o Senhor; relâmpagos e nuvens, bendizei o Senhor.</p>
                <p><span class="rub">10.</span> Que a terra bendiga o Senhor; louve-O e exalte-O para sempre.</p>
                <p><span class="rub">11.</span> Montes e colinas, bendizei o Senhor; plantas que brotais da terra, bendizei o Senhor.</p>
                <p><span class="rub">12.</span> Mares e rios, bendizei o Senhor; fontes, bendizei o Senhor.</p>
                <p><span class="rub">13.</span> Cetáceos e animais que viveis nas águas, bendizei o Senhor; pássaros todos do céu, bendizei o Senhor.</p>
                <p><span class="rub">14.</span> Animais selvagens e rebanhos, bendizei o Senhor; filhos dos homens, bendizei o Senhor.</p>
                <p><span class="rub">15.</span> Bendiga Israel o Senhor; louve-O e exalte-O para sempre.</p>
                <p><span class="rub">16.</span> Sacerdotes do Senhor, bendizei o Senhor; servos do Senhor, bendizei o Senhor.</p>
                <p><span class="rub">17.</span> Espíritos e almas dos justos, bendizei o Senhor; santos e humildes de coração, bendizei o Senhor.</p>
                <p><span class="rub">18.</span> Ananias, Azarias e Misael, bendizei o Senhor; louvai-O e exaltai-O para sempre.</p>
                <p><span class="rub">19.</span> Bendigamos o Pai, o Filho e o Espírito Santo; louvemo-Lo e exaltemo-Lo para sempre.</p>
                <p><span class="rub">20.</span> Senhor, Vós sois bendito no firmamento dos céus; sois digno de louvor e glória para sempre.</p>
                <p class="rub">Aqui não se reza o Glória, nem se diz Amém.</p>
                <br>
                <p class="rub" style="text-align:center;">Salmo 150</p>
                <p><span class="rub">1.</span> Louvai o Senhor no seu santuário, louvai-O no seu augusto firmamento.</p>
                <p><span class="rub">2.</span> Louvai-O por suas obras grandiosas, louvai-O por sua excelsa majestade.</p>
                <p><span class="rub">3.</span> Louvai-O ao som da trombeta, louvai-O com o saltério e a cítara.</p>
                <p><span class="rub">4.</span> Louvai-O com tímpanos e danças, louvai-O com a harpa e a flauta.</p>
                <p><span class="rub">5.</span> Louvai-O com címbalos sonoros, louvai-O com címbalos de júbilo: tudo o que respira louve o Senhor</p>
                <p>Glória ao Pai e ao Filho e ao Espírito Santo. Como era no princípio, agora e sempre. Amém.</p>
                <br>
                <p><span class="rub">Antífona.</span> Cantemos o hino dos três jovens...</p>
                <p class="rub">Todos se levantam e quem dirige as orações diz:</p>
                <p><span class="rub">V.</span> Senhor, tende piedade de nós. </p>
                <p><span class="rub">R.</span> Cristo, tende piedade de nós. Senhor, tende piedade de nós.</p>
                <p>Pai Nosso <span class="rub">(em silêncio)</span>...</p>
                <p><span class="rub">V.</span> E não nos deixeis cair em tentação. </p>
                <p><span class="rub">R.</span> Mas livrai-nos do mal.</p>
                <p><span class="rub">V.</span> Todas as Vossas obras Vos louvem, Senhor. </p>
                <p><span class="rub">R.</span> E os Vossos santos Vos bendigam.</p>
                <p><span class="rub">V.</span> Os santos exultarão na glória. </p>
                <p><span class="rub">R.</span> E alegrar-se-ão nas suas moradas.</p>
                <p><span class="rub">V.</span> Não a nós, Senhor, não a nós. </p>
                <p><span class="rub">R.</span> Mas ao Vosso nome dai glória.</p>
                <p><span class="rub">V.</span> Ouvi, Senhor, a minha oração. </p>
                <p><span class="rub">R.</span> E chegue a Vós o meu clamor.</p>
                <p class="rub">Os sacerdotes acrescentam:</p>
                <p><span class="rub">V.</span> O Senhor esteja convosco. </p>
                <p><span class="rub">R.</span> Ele está no meio de nós.</p>
                <p class="rub" style="text-align:center; text-transform: uppercase;">Oremos</p>
                <p>Ó Deus, que suavizastes as chamas do fogo aos três jovens, concedei-nos, pela Vossa misericórdia, que não nos deixemos abrasar pelos vícios.</p>
                <p>Nós vos rogamos, Senhor, que prepareis as nossas ações com a vossa inspiração, e as acompanheis com a vossa ajuda, a fim de que todos os nossos trabalhos e orações em Vós comecem sempre e convosco acabem.</p>
                <p>Dai-nos, Senhor, a graça de extinguir o ardor dos vícios, Vós que concedestes a São Lourenço a virtude de vencer o fogo de seu martírio. Por Cristo Senhor Nosso.</p>
                <p><span class="rub">R.</span> Amém.</p>
            `,
            html_la: `
                <p><span class="rub">Antíphona.</span> Trium puerórum cantémus hymnum, quem cantábant sancti in camíno ignis, benedicéntes Dóminum (<span class="rub">T. P.</span> Allelúia).</p>
                <p class="rub" style="text-align:center;">Cánticum Trium Puerórum (Dan. 3, 57-88 et 56)</p>
                <p><span class="rub">1.</span> Benedícite, ómnia ópera Dómini, Dómino, laudáte et superexaltáte eum in sǽcula.</p>
                <p><span class="rub">2.</span> Benedícite, cæli, Dómino, benedícite, ángeli Dómini, Dómino.</p>
                <p><span class="rub">3.</span> Benedícite, aquæ omnes, quæ super cælos sunt, Dómino, benedícat omnis virtus, Dómino.</p>
                <p><span class="rub">4.</span> Benedícite, sol et luna, Dómino, benedícite, stellæ cæli, Dómino.</p>
                <p><span class="rub">5.</span> Benedícite, omnis imber et ros, Dómino, benedícite, omnes venti, Dómino.</p>
                <p><span class="rub">6.</span> Benedícite, ignis et æstus, Dómino, benedícite, frigus et æstus, Dómino.</p>
                <p><span class="rub">7.</span> Benedícite, rores et prúina, Dómino, benedícite, gelu et frigus, Dómino.</p>
                <p><span class="rub">8.</span> Benedícite, glácies et nives, Dómino, benedícite, noctes et dies, Dómino.</p>
                <p><span class="rub">9.</span> Benedícite, lux et ténebræ, Dómino, benedícite, fúlgura et nubes, Dómino.</p>
                <p><span class="rub">10.</span> Benedícat terra Dóminum, laudet et superexáltet eum in sǽcula.</p>
                <p><span class="rub">11.</span> Benedícite montes et colles, Dómino, benedícite, univérsa germinántia in terra, Dómino.</p>
                <p><span class="rub">12.</span> Benedícite, mária et flúmina, Dómino, benedícite, fontes, Dómino.</p>
                <p><span class="rub">13.</span> Benedícite, cete et ómnia, quæ movéntur in aquis, Dómino, benedícite, omnes vólucres cæli, Dómino.</p>
                <p><span class="rub">14.</span> Benedícite, omnes béstiæ et pécora, Dómino, benedícite, fílii hóminum, Dómino.</p>
                <p><span class="rub">15.</span> Bénedic, Ísraël, Dómino, laudáte et superexaltáte eum in sǽcula.</p>
                <p><span class="rub">16.</span> Benedícite, sacerdótes Dómini, Dómino, benedícite, servi Dómini, Dómino.</p>
                <p><span class="rub">17.</span> Benedícite, spíritus et ánimæ iustórum, Dómino, benedícite, sancti et húmiles corde, Dómino.</p>
                <p><span class="rub">18.</span> Benedícite, Ananía, Azaría, Mísaël, Dómino, laudáte et superexaltáte eum in sǽcula.</p>
                <p><span class="rub">19.</span> Benedicámus Patrem et Fílium cum Sancto Spíritu; laudémus et superexaltémus eum in sǽcula.</p>
                <p><span class="rub">20.</span> Benedíctus es in firmaménto cæli et laudábilis et gloriósus in sǽcula.</p>
                <p class="rub">Hic non dícitur Glória Patri, neque Amen.</p>
                <br>
                <p class="rub" style="text-align:center;">Psalmus 150</p>
                <p><span class="rub">1.</span> Laudáte Dóminum in sanctuário eius, laudáte eum in firmaménto virtútis eius.</p>
                <p><span class="rub">2.</span> Laudáte eum in magnálibus eius, laudáte eum secúndum multitúdinem magnitúdinis eius.</p>
                <p><span class="rub">3.</span> Laudáte eum in sono tubæ, laudáte eum in psaltério et cíthara.</p>
                <p><span class="rub">4.</span> Laudáte eum in týmpano et choro, laudáte eum in chordis et órgano.</p>
                <p><span class="rub">5.</span> Laudáte eum in cýmbalis benesonántibus, laudáte eum in cýmbalis iubilatiónis: omne quod spirat, laudet Dóminum.</p>
                <p>Glória Patri, et Fílio, et Spirítui Sancto. Sicut erat in princípio, et nunc, et semper, et in sǽcula sæculórum. Amen.</p>
                <br>
                <p><span class="rub">Antiphona.</span> Trium puerórum cantémus hymnum...</p>
                <p class="rub">Omnes exsúrgunt, et qui preces moderátur dicit:</p>
                <p><span class="rub">V.</span> Kyrie, eléison. </p>
                <p><span class="rub">R.</span> Christe, eléison. Kyrie, eléison.</p>
                <p>Pater noster...</p>
                <p><span class="rub">V.</span> Et ne nos indúcas in tentatiónem. </p>
                <p><span class="rub">R.</span> Sed líbera nos a malo.</p>
                <p><span class="rub">V.</span> Confiteántur tibi, Dómine, ómnia ópera tua. </p>
                <p><span class="rub">R.</span> Et Sancti tui benedícant tibi.</p>
                <p><span class="rub">V.</span> Exsultábunt sancti in glória. </p>
                <p><span class="rub">R.</span> Lætabúntur in cubílibus suis.</p>
                <p><span class="rub">V.</span> Non nobis, Dómine, non nobis. </p>
                <p><span class="rub">R.</span> Sed nómini tuo da glóriam.</p>
                <p><span class="rub">V.</span> Dómine, exáudi oratiónem meam. </p>
                <p><span class="rub">R.</span> Et clamor meus ad te véniat.</p>
                <p class="rub">Sacerdotes addunt:</p>
                <p><span class="rub">V.</span> Dóminus vobíscum. </p>
                <p><span class="rub">R.</span> Et cum spíritu tuo.</p>
                <p class="rub" style="text-align:center; text-transform: uppercase;">Orémus</p>
                <p>Deus, qui tribus púeris mitigásti flammas ígnium, concéde propítius; ut nos fámulos tuos non exúrat flamma vitiórum.</p>
                <p>Actiónes nostras, quǽsumus, Dómine, aspirándo prǽveni et adiuvándo proséquere: ut cuncta nostra orátio et operátio a te semper incípiat, et per te cœpta finiátur.</p>
                <p>Da nobis, quǽsumus, Dómine, vitiórum nostrórum flammas extínguere; qui beato Lauréntio tribuísti tormentórum suórum incéndia superáre. Per Christum Dóminum nostrum.</p>
                <p><span class="rub">R.</span> Amen.</p>
            `
        };

        // ============= LÓGICA GERAL =============
        const chipsContainer = document.getElementById('chipsNav');
        const listaContent = document.getElementById('listaContent');
        const mainContentScroll = document.getElementById('mainContentScroll');
        const btnVoltarTopo = document.getElementById('btnVoltarTopo');
        const mainView = document.getElementById('mainView');
        const canticoView = document.getElementById('canticoView');
        const pageTitle = document.getElementById('pageTitle');
        const canticoTexto = document.getElementById('canticoTexto');

        // Abreviações para o controle segmentado
        const abrevsAG = {
            intercessores: "INT",
            familia: "FAM",
            opus: "OBR",
            amigos: "AMI",
            igreja: "IGR",
            agradecer: "AGR",
            peticoes: "PET",
            diario: "LEM"
        };

        let idiomaAtualCantico = 'pt';
        let scrollTarget = mainContentScroll; // Define quem está rolando para o botão de topo

        function init() {
            renderChips();
            loadCategory('intercessores');
            // Inicializar Cântico em PT
            renderCantico();
            
            // Listener inicial de scroll
            attachScrollListener();
        }

        // --- NAVEGAÇÃO DE ABAS (AG) ---
        function renderChips() {
            chipsContainer.innerHTML = '';
            for (const key in dataAG) {
                const cat = dataAG[key];
                const btn = document.createElement('button');
                btn.type = 'button';
                btn.className = 'seg-item';
                btn.textContent = abrevsAG[key] || cat.label.slice(0, 3);
                btn.title = cat.label;
                btn.setAttribute('aria-label', cat.label);
                btn.onclick = () => loadCategory(key, btn);
                if(key === 'intercessores') btn.classList.add('active');
                chipsContainer.appendChild(btn);
            }
        }

        function loadCategory(key, clickedBtn) {
            // Atualizar UI dos segmentos
            document.querySelectorAll('.seg-item').forEach(c => c.classList.remove('active'));
            if(clickedBtn) clickedBtn.classList.add('active');
            else {
                const btns = document.querySelectorAll('.seg-item');
                for(let b of btns) {
                    if((b.getAttribute('aria-label') || '') === dataAG[key].label) b.classList.add('active');
                }
            }

            // Renderizar Conteúdo
            const data = dataAG[key];
            let html = `<div class="category-title">${data.label}</div>`;

            data.items.forEach(item => {
                if (data.isQuotes) {
                    html += `<div class="quote-style">${item}</div>`;
                } else {
                    html += `<div class="list-item">${item}</div>`;
                }
            });

            listaContent.innerHTML = html;
            mainContentScroll.scrollTop = 0;
        }

        // --- LÓGICA DO CÂNTICO ---
        function toggleCantico() {
            if (canticoView.style.display === 'flex') {
                // Fechar Cântico
                canticoView.style.display = 'none';
                mainView.style.display = 'flex';
                pageTitle.textContent = "Ação de Graças";
                scrollTarget = mainContentScroll;
            } else {
                // Abrir Cântico
                mainView.style.display = 'none';
                canticoView.style.display = 'flex';
                pageTitle.textContent = "Trium puerórum";
                scrollTarget = canticoView;
                canticoView.scrollTop = 0;
            }
            attachScrollListener();
        }

        function mudarIdiomaCantico(lang) {
            idiomaAtualCantico = lang;
            
            // Atualizar botões
            document.getElementById('btnPt').classList.toggle('ativo', lang === 'pt');
            document.getElementById('btnLa').classList.toggle('ativo', lang === 'la');
            
            renderCantico();
        }

        function renderCantico() {
            const html = idiomaAtualCantico === 'pt' ? canticoDados.html_pt : canticoDados.html_la;
            canticoTexto.innerHTML = html;
        }

        // --- UTILITÁRIOS DE SCROLL ---
        function attachScrollListener() {
            // Remover listener antigo se necessário (embora sobrescrever onclick seja mais seguro para simples toggle)
            mainContentScroll.onscroll = null;
            canticoView.onscroll = null;

            // Anexar ao alvo atual
            scrollTarget.onscroll = function() {
                if (scrollTarget.scrollTop > 300) {
                    btnVoltarTopo.classList.add('visivel');
                } else {
                    btnVoltarTopo.classList.remove('visivel');
                }
            };
            
            // Trigger manual para garantir estado correto do botão ao trocar view
            scrollTarget.onscroll(); 
        }

        function scrollToTop() {
            scrollTarget.scrollTo({ top: 0, behavior: 'smooth' });
        }

        init();

    </script>
</body>
</html>